name: 'ğŸš› deploy'
description: 'ë‚´ê°€ ì§€ì •í•œ í˜¸ìŠ¤íŠ¸ì˜ í”„ë¡œì íŠ¸ í´ë” git pull origin develop! & Release deploy-src.tar í´ë” ì••ì¶• í•´ì œ ë®ì–´ì“°ê¸°'

inputs:
  # https://github.com/dsaltares/fetch-gh-release-asset/blob/master/action.yaml
  # í•´ë‹¹ ì•¡ì…˜ ì°¸ê³  
  repo:
    description: 'The `org/repo` containing the release.'
    required: false
    default: ''
  version:
    description: 'The release version to fetch from in the form `tags/<tag_name>` or `<release_id>`.'
    required: false
    default: 'latest'
  file:
    description: 'The name of the file to be downloaded.'
    required: true
  target:
    description: 'Target file path.'
    required: false
  token:
    description: 'The GitHub token. Typically this will be secrets.GITHUB_TOKEN'
    required: true
  # https://github.com/AEnterprise/rsync-deploy/blob/master/Dockerfile
  # í•´ë‹¹ ì°¸ê³ 
  deploy_key:
    description: 'rsync sshë¡œ ì ‘ì†í•˜ê¸°ìœ„í•œ ssh key'
    required: true
  server_port:
    description: 'rsync port'
    require: true
  folder:
    description: 'ì—°ë™í•  í´ë”'
    require: true
    default: './'
  args:
    description: 'rsync ì¶”ê°€ ì˜µì…˜'
    require: false
  server_ip:
    description: 'rsyncí•  í˜¸ìŠ¤íŠ¸ IP or Domain'
    require: true
  username:
    description: 'í˜¸ìŠ¤íŠ¸ ì ‘ì† username'
    require: true
  server_destination:
    description: 'í˜¸ìŠ¤íŠ¸ rsyncí•  í´ë”'
    require: true

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.repo }}
    - ${{ inputs.version }}
    - ${{ inputs.file }}
    - ${{ inputs.target }}
    - ${{ inputs.token }}
    - ${{ inputs.deploy_key }}
    - ${{ inputs.server_port }}
    - ${{ inputs.folder }}
    - ${{ inputs.server_ip }}
    - ${{ inputs.username }}
    - ${{ inputs.server_destination }}

outputs:
  version:
    description: 'The version of the release or tag'
  name:
    description: 'The name of the release'
  body:
    description: 'The body of the release'

name: ðŸš§ github action meta
on:
  push:
    branches:
      - main
  release:
    types: [published]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: 'add actions test'
      uses: Hansanghyeon/github-action-test-space@main
      with:
        repo: "${{ github.repository }}"
        version: "tags/v0.0.14"
        file: "deploy-src.tar"
        target: "deploy-src.tar"
        token: ${{ secrets.TOKEN }}
        DEPLOY_KEY: ${{ secrets.KEY }}
        SERVER_PORT: ${{ secrets.RSYNC_PORT }}
        FOLDER: "./@sync/"
        ARGS: "-rltgoDzvO --ignore-times"
        SERVER_IP: ${{ secrets.HOST }}
        USERNAME: ${{ secrets.USERNAME }}
        SERVER_DESTINATION: "/volume1/docker/${{ secrets.PROJECT_TYPE }}/${{ secrets.PROJECT_DIR }}"
    - name: 'test'
      run: |
        ls -al

name: ðŸš§ github action meta
on:
  push:
    branches:
      - main
  release:
    types: [published]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: 'add actions test'
      uses: Hansanghyeon/github-action-test-space@main
      with:
        repo: "${{ github.repository }}"
        version: "tags/v0.0.14"
        file: "deploy-src.tar"
        target: "deploy-src.tar"
        token: ${{ secrets.TOKEN }}
        deploy_key: ${{ secrets.KEY }}
        server_port: ${{ secrets.RSYNC_PORT }}
        folder: "./@sync/"
        args: "-rltgoDzvO --ignore-times"
        server_ip: ${{ secrets.HOST }}
        username: ${{ secrets.USERNAME }}
        server_destination: "/volume1/docker/${{ secrets.PROJECT_TYPE }}/${{ secrets.PROJECT_DIR }}"
    - name: 'test'
      run: |
        ls -al
